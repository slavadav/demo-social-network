(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u}));var a=n(127),r=a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"3794fb54-9122-4382-888d-4590375cb765"}}),c={fetchUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method. Use profileAPI.getProfile method"),o.getProfile(e)}},o={getProfile:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}),(function(e){return console.log("Fetching Error:",e)}))},getStatus:function(e){return r.get("profile/status/".concat(e)).then((function(e){return e.data}),(function(e){return console.log("Fetching Error:",e)}))},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return r.put("profile",e)}},s={auth:function(){return r.get("auth/me")},login:function(e){var t=e.email,n=e.password,a=e.rememberMe,c=e.captcha;return r.post("auth/login",{email:t,password:n,rememberMe:a,captcha:c})},logout:function(){return r.delete("auth/login").then((function(e){return e})).catch((function(e){console.log(e)}))}},u={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},121:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(){return r.a.createElement("div",{className:"d-flex justify-content-center pt-5"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}},129:function(e,t,n){e.exports=n.p+"static/media/react-logo.f69a1c09.png"},157:function(e,t,n){e.exports=n(283)},162:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(59),o=n.n(c),s=(n(162),n(31)),u=n(32),l=n(35),i=n(33),d=n(36),m=n(27),p=n(17),f=n(16),h=n(6),g=n(126),E=n(124),b=n(92),v=n(88),O=n(9),A=n.n(O),S=n(41),C=n(8),w=n(10),j={users:[],totalUsersCount:0,pageSize:10,currentPage:1,isFetching:!0,disabledId:[]},y=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},N=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},I=function(e,t){return{type:"TOGGLE_FOLLOW_PROGRESS",isFetching:e,userId:t}},U=function(e){return{type:"FOLLOW",userId:e}},P=function(e){return{type:"UNFOLLOW",userId:e}},R=function(e,t,n,a){return A.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(I(!0,t)),r.next=3,A.a.awrap(n(t));case 3:0===r.sent.data.resultCode&&e(a(t)),e(I(!1,t));case 6:case"end":return r.stop()}}))},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return Object(C.a)({},e,{users:t.users});case"FOLLOW":return Object(C.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(C.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(C.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(C.a)({},e,{followed:!1}):e}))});case"SET_CURRENT_PAGE":return Object(C.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(C.a)({},e,{totalUsersCount:t.totalCount});case"TOGGLE_IS_FETCHING":return Object(C.a)({},e,{isFetching:t.isFetching});case"TOGGLE_FOLLOW_PROGRESS":return Object(C.a)({},e,{disabledId:t.isFetching?[].concat(Object(S.a)(e.disabledId),[t.userId]):e.disabledId.filter((function(e){return e!==t.userId}))});default:return e}},F=n(30),k={id:null,login:null,email:null,isAuth:!1,captchaUrl:null},D=function(e,t,n,a){return{type:"authReducer/SET_USER_DATA",payload:{id:e,login:t,email:n,isAuth:a}}},x=function(e){return{type:"authReducer/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},L=function(){return function(e){var t,n,a,r,c;return A.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,A.a.awrap(w.a.auth());case 2:0===(t=o.sent).data.resultCode&&(n=t.data.data,a=n.id,r=n.login,c=n.email,e(D(a,r,c,!0)));case 4:case"end":return o.stop()}}))}},z=function(){return function(e){var t,n;return A.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.a.awrap(w.c.getCaptchaUrl());case 2:t=a.sent,n=t.data.url,console.log(n),e(x(n));case 6:case"end":return a.stop()}}))}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"authReducer/SET_USER_DATA":case"authReducer/GET_CAPTCHA_URL_SUCCESS":return Object(C.a)({},e,{},t.payload);default:return e}},K={initialized:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(C.a)({},e,{initialized:!0});default:return e}},G=Object(h.c)({profileReducer:v.b,dialogsReducer:b.b,usersReducer:T,authReducer:J,appReducer:M,form:E.a}),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d,X=Object(h.e)(G,H(Object(h.a)(g.a)));window.store=X;var Q=X,W=n(129),Z=n.n(W),q=function(e){return r.a.createElement("header",{className:"navbar navbar-dark bg-dark"},r.a.createElement("img",{src:Z.a,alt:"",width:"50"}),r.a.createElement("h4",{className:"navbar-text ml-3"},"React-Social-Network"),r.a.createElement("div",{className:"ml-auto"},e.isAuth?r.a.createElement("div",null,r.a.createElement("span",{className:"text-light"},e.login),r.a.createElement("button",{onClick:e.logout,className:"btn btn-sm btn-outline-secondary ml-md-3",type:"button"},"Logout")):r.a.createElement(p.b,{className:"btn btn-sm btn-outline-secondary",type:"button",to:"/login"},"Login")))},V=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(q,this.props)}}]),t}(r.a.Component),B=Object(h.d)(Object(f.b)((function(e){return{isAuth:e.authReducer.isAuth,login:e.authReducer.login}}),{logout:function(){return function(e){return A.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.awrap(w.a.logout());case 2:0===t.sent.data.resultCode?e(D(null,null,null,!1)):console.log("ERROR!!");case 4:case"end":return t.stop()}}))}}}))(V),Y=n(49),_=n(87),$=n.n(_),ee=function(e){var t="/profile/"+e.user.id;return r.a.createElement("div",{className:"list-group-item list-group-item-light list-group-item-action"},r.a.createElement(p.b,{to:t},r.a.createElement("img",{src:e.user.photos.small?e.user.photos.small:$.a,alt:"...",className:"user-icon"}),r.a.createElement("span",{className:"ml-2 text-dark"},e.user.name)),r.a.createElement("div",{className:"float-right pt-2"},e.user.followed?r.a.createElement("button",{onClick:function(){e.unfollow(e.user.id)},className:"btn btn-sm btn-outline-secondary",disabled:e.disabledId.some((function(t){return t===e.user.id}))},"Unfollow"):r.a.createElement("button",{onClick:function(){e.follow(e.user.id)},className:"btn btn-sm btn-outline-secondary",disabled:e.disabledId.some((function(t){return t===e.user.id}))},"Follow")))},te=n(89),ne=function(e){for(var t=e.totalItemsCount,n=e.pageSize,c=e.currentPage,o=e.onChangePage,s=e.portionSize,u=void 0===s?10:s,l=Math.ceil(t/n),i=[],d=1;d<=l;d++)i.push(d);var m=Math.ceil(l/u),p=Object(a.useState)(1),f=Object(te.a)(p,2),h=f[0],g=f[1],E=(h-1)*u+1,b=h*u;return r.a.createElement("ul",{className:"pagination pagination-sm"},r.a.createElement("li",{className:h<=1?"page-item disabled":"page-item"},r.a.createElement("button",{onClick:function(){g(h-1)},className:"page-link",key:"p"},r.a.createElement("span",null,"PREV"))),i.filter((function(e){return e>=E&&e<=b})).map((function(e){return r.a.createElement("li",{className:c===e?"page-item active":"page-item",key:e},r.a.createElement("button",{onClick:function(t){o(e)},className:"page-link"},e))})),r.a.createElement("li",{className:h>=m?"page-item disabled":"page-item"},r.a.createElement("button",{onClick:function(){g(h+1)},className:"page-link",key:"n"},r.a.createElement("span",null,"NEXT"))))},ae=function(e){var t=e.currentPage,n=e.pageSize,a=e.totalUsersCount,c=e.onChangePage,o=Object(Y.a)(e,["currentPage","pageSize","totalUsersCount","onChangePage"]);return r.a.createElement("div",null,r.a.createElement(ne,{currentPage:t,pageSize:n,totalItemsCount:a,onChangePage:c}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"list-group col-6"},o.users.map((function(e){return r.a.createElement(ee,{user:e,follow:o.follow,unfollow:o.unfollow,disabledId:o.disabledId,toggleFollowProgress:o.toggleFollowProgress,key:e.id})})))))},re=n(131),ce=Object(re.a)((function(e){return e.usersReducer.users}),(function(e){return e})),oe=function(e){return e.usersReducer.currentPage},se=function(e){return e.usersReducer.pageSize},ue=function(e){return e.usersReducer.totalUsersCount},le=function(e){return e.usersReducer.isFetching},ie=function(e){return e.usersReducer.disabledId},de=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onChangePage=function(e){var t=n.props.pageSize;n.props.fetchUsers(e,t)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.fetchUsers(t,n)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,Object.assign({},this.props,{onChangePage:this.onChangePage,follow:this.props.follow,unfollow:this.props.unfollow,toggleFollowProgress:this.props.toggleFollowProgress})))}}]),t}(r.a.Component),me=Object(f.b)((function(e){return{users:ce(e),currentPage:oe(e),pageSize:se(e),totalUsersCount:ue(e),isFetching:le(e),disabledId:ie(e)}}),{follow:function(e){return function(t){return A.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:R(t,e,w.d.follow.bind(w.d),U);case 1:case"end":return n.stop()}}))}},unfollow:function(e){return function(t){return A.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:R(t,e,w.d.unfollow.bind(w.d),P);case 1:case"end":return n.stop()}}))}},toggleFollowProgress:I,fetchUsers:function(e,t){return function(n){var a;return A.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n(N(!0)),n(y(e)),r.next=4,A.a.awrap(w.d.fetchUsers(e,t));case 4:a=r.sent,n({type:"SET_USERS",users:a.items}),n({type:"SET_TOTAL_USERS_COUNT",totalCount:a.totalCount}),n(N(!1));case 8:case"end":return r.stop()}}))}}})(de),pe=function(){return r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/profile",className:"nav-link"},"My profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/dialogs",className:"nav-link"},"Messages")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/users",className:"nav-link"},"Users")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/music",className:"nav-link"},"Music")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/settings",className:"nav-link"},"Settings"))))},fe=n(123),he=n(122),ge=n(62),Ee=n(63),be=Object(fe.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,a=e.captchaUrl;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(he.a,{type:"input",placeholder:"E-mail",component:ge.a,name:"email",validate:[Ee.a],className:"form-control"})),r.a.createElement("div",null,r.a.createElement(he.a,{type:"password",placeholder:"Password",component:ge.a,name:"password",validate:[Ee.a],className:"form-control"}))),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-sm btn-secondary"},"Login")),r.a.createElement("div",{className:"form-check mt-2"},r.a.createElement(he.a,{type:"checkbox",component:"input",name:"rememberMe",className:"form-check-input",id:"gridCheck"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"gridCheck"},"Remember me")),a&&r.a.createElement("img",{src:a,alt:""}),a&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement(he.a,{type:"input",component:ge.a,name:"captcha",validate:[Ee.a],className:"form-control"})),r.a.createElement("span",{className:"col-6"},"Input symbols")),n&&r.a.createElement("div",null,n))})),ve=Object(h.d)(Object(f.b)((function(e){return{isAuth:e.authReducer.isAuth,captchaUrl:e.authReducer.captchaUrl}}),{login:function(e){return function(t){var n,a;return A.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A.a.awrap(w.a.login(e));case 2:0===(n=r.sent).data.resultCode?t(L()):(10===n.data.resultCode&&t(z()),a=n.data.messages.length>0?n.data.messages[0]:"Authorization error",t(Object(F.a)("login",{_error:a})));case 4:case"end":return r.stop()}}))}}}))((function(e){return e.isAuth?r.a.createElement(m.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(be,{onSubmit:function(t){e.login(t)},captchaUrl:e.captchaUrl}))})),Oe=n(121),Ae=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(Oe.a,null)},r.a.createElement(e,t))}},Se=r.a.lazy((function(){return n.e(4).then(n.bind(null,285))})),Ce=r.a.lazy((function(){return n.e(3).then(n.bind(null,286))})),we=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).catchAllUnhandledErrors=function(e){console.log("Some error occured",e)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"container-fluid pt-3"},r.a.createElement(B,null),r.a.createElement("div",{className:"container-fluid bg-light row"},r.a.createElement("div",{className:"col-2 p-3"},r.a.createElement(pe,null)),r.a.createElement("div",{className:"col-10 p-3"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",render:function(){return r.a.createElement(m.a,{to:"/profile"})}}),r.a.createElement(m.b,{path:"/profile/:userId?",render:Ae(Se)}),r.a.createElement(m.b,{path:"/dialogs",render:Ae(Ce)}),r.a.createElement(m.b,{path:"/users",render:function(){return r.a.createElement(me,null)}}),r.a.createElement(m.b,{path:"/login",render:function(){return r.a.createElement(ve,null)}}),r.a.createElement(m.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 NOT FOUND")}}))))):null}}]),t}(r.a.Component),je=Object(h.d)(m.g,Object(f.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeApp:function(){return function(e){var t=e(L());Promise.all([t]).then((function(){return e({type:"SET_INITIALIZED"})}))}}}))(we),ye=function(){return r.a.createElement(p.a,null,r.a.createElement(f.a,{store:Q},r.a.createElement(je,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},50:function(e,t,n){e.exports={formControl:"FormsControls_formControl__1kho1",error:"FormsControls_error__20Xhz"}},62:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var a=n(49),r=n(0),c=n.n(r),o=n(50),s=n.n(o),u=function(e){var t=e.input,n=e.meta,r=n.error,o=n.touched,u=Object(a.a)(e,["input","meta"]),l=r&&o;return c.a.createElement("div",{className:s.a.formControl+" "+(l&&s.a.error)},c.a.createElement("div",null,c.a.createElement("textarea",Object.assign({},t,u))),c.a.createElement("div",null,l&&c.a.createElement("span",null,r)))},l=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),o=n.error&&n.touched;return c.a.createElement("div",{className:s.a.formControl+" "+(o&&s.a.error)},c.a.createElement("div",null,c.a.createElement("input",Object.assign({},t,r))),c.a.createElement("div",null,o&&c.a.createElement("span",null,n.error)))}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e?void 0:"Field is required"}},87:function(e,t){e.exports="data:image/png;base64,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"},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return E}));var a=n(9),r=n.n(a),c=n(41),o=n(8),s=n(10),u=n(30),l={profile:null,posts:[{id:0,post:"No API for this App part",likesCount:1},{id:1,post:"First post",likesCount:12},{id:2,post:"Second post",likesCount:13},{id:3,post:"Third post",likesCount:11}],status:"",postText:""},i=function(e){return{type:"SET_STATUS",status:e}},d=function(){return{type:"ADD_POST"}},m=function(e){return{type:"UPDATE_POST",newPostText:e}},p=function(e){return function(t){s.b.getProfile(e).then((function(e){t({type:"SET_PROFILE",profile:e})}))}},f=function(e){return function(t){s.b.getStatus(e).then((function(e){t(i(e))}))}},h=function(e){return function(t){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(s.b.updateStatus(e));case 3:0===n.sent.data.resultCode&&t(i(e)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},g=function(e){return function(t){s.b.savePhoto(e).then((function(e){0===e.data.resultCode&&t({type:"SAVE_PHOTO_SUCCESS",photos:e.data.data.photos})}))}},E=function(e){return function(t,n){var a=n().authReducer.id;return s.b.saveProfile(e).then((function(e){if(0!==e.data.resultCode){var n=e.data.messages.length>0?e.data.messages[0]:"Invalid profile info input";return t(Object(u.a)("profile-info",{_error:n})),Promise.reject(e.data.messages[0])}t(p(a))}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROFILE":return Object(o.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(o.a)({},e,{status:t.status});case"SAVE_PHOTO_SUCCESS":return Object(o.a)({},e,{profile:Object(o.a)({},e.profile,{photos:t.photos})});case"DELETE_POST":return Object(o.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"ADD_POST":var n={id:Date.now(),post:e.postText.trim(),likesCount:0};return Object(o.a)({},e,{posts:[].concat(Object(c.a)(e.posts),[n]),postText:""});case"UPDATE_POST":return Object(o.a)({},e,{postText:t.newPostText});default:return e}}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n(41),r=n(8),c={users:[{id:"1",name:"Slava"},{id:"2",name:"Roma"},{id:"3",name:"Andrey"},{id:"4",name:"Sasha"}],messages:[{id:"0",message:"No API for this App part"},{id:"1",message:"Hello"},{id:"2",message:"Hi"}],messageText:""},o=function(){return{type:"ADD_MESSAGE"}},s=function(e){return{type:"UPDATE_MESSAGE",messageText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":if(e.messageText.trim()){var n={id:Date.now(),message:e.messageText.trim()};return Object(r.a)({},e,{messages:[].concat(Object(a.a)(e.messages),[n]),messageText:""})}return e;case"UPDATE_MESSAGE":return Object(r.a)({},e,{messageText:t.messageText});default:return e}}}},[[157,1,2]]]);
//# sourceMappingURL=main.dbe56338.chunk.js.map