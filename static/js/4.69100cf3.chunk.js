(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{284:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(31),l=a(32),r=a(35),c=a(33),o=a(36),u=a(0),s=a.n(u),i=a(27),m=a(16),p=function(e){return{isAuth:e.authReducer.isAuth}},f=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(r.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(o.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){return this.props.isAuth?s.a.createElement(e,this.props):s.a.createElement(i.a,{to:"/login"})}}]),a}(s.a.Component);return Object(m.b)(p)(t)}},285:function(e,t,a){"use strict";a.r(t);var n=a(31),l=a(32),r=a(35),c=a(33),o=a(36),u=a(0),s=a.n(u),i=a(27),m=a(16),p=a(6),f=a(89),d=a(87),b=a.n(d),E=a(121),h=function(e){var t=Object(u.useState)(e.status),a=Object(f.a)(t,2),n=a[0],l=a[1],r=Object(u.useState)(!1),c=Object(f.a)(r,2),o=c[0],i=c[1];Object(u.useEffect)((function(){l(e.status)}),[e.status]);return s.a.createElement("div",null,e.isOwner?o?s.a.createElement("div",null,s.a.createElement("input",{type:"text",autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(n)},onChange:function(e){l(e.currentTarget.value)},value:n})):s.a.createElement("div",null,s.a.createElement("span",{onDoubleClick:function(){i(!0)}},e.status||"-----")):s.a.createElement("div",null,s.a.createElement("span",null,e.status||"-----")))},v=a(122),g=a(123),k=a(62),y=a(63),N=Object(g.a)({form:"profile-info"})((function(e){var t=e.profile,a=e.handleSubmit,n=e.error;return s.a.createElement("form",{onSubmit:a,className:"form-group"},s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-sm btn-secondary"},"Submit")),n&&s.a.createElement("div",null,n),s.a.createElement("div",null,s.a.createElement("b",null,"Full Name"),":",s.a.createElement(v.a,{type:"input",placeholder:"Your full name",component:k.a,name:"fullName",validate:[y.a],className:"form-control"})),s.a.createElement("div",null,s.a.createElement("label",{className:"form-check-label",htmlFor:"gridCheck"},s.a.createElement("b",null,"Looking for a job"),":"),s.a.createElement(v.a,{type:"checkbox",id:"gridCheck",component:"input",name:"lookingForAJob",className:"form-check-input ml-2"})),s.a.createElement("div",null,s.a.createElement("b",null,"Looking for a job(Description)"),":",s.a.createElement(v.a,{type:"textarea",placeholder:"Write your professional skills",component:k.b,name:"lookingForAJobDescription",validate:[y.a],className:"form-control"})),s.a.createElement("div",null,s.a.createElement("b",null,"About me"),":",s.a.createElement(v.a,{type:"textarea",placeholder:"Write something about you",component:k.b,name:"aboutMe",validate:[y.a],className:"form-control"})),s.a.createElement("div",null,s.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map((function(e){return s.a.createElement("div",{key:e,className:"pl-3"},s.a.createElement("b",null,e),":",s.a.createElement(v.a,{type:"input",placeholder:e,component:k.a,name:"contacts."+e,className:"form-control"}))}))))})),j=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return s.a.createElement("div",{className:"p-2"},s.a.createElement("div",null,s.a.createElement("b",null,"Full Name"),": ",t.fullName),s.a.createElement("div",null,s.a.createElement("b",null,"Looking for a job"),": ",t.lookingForAJob?"yes":"no"),s.a.createElement("div",null,s.a.createElement("b",null,"Looking for a job(Description)"),": ",t.lookingForAJobDescription),s.a.createElement("div",null,s.a.createElement("b",null,"About me"),": ",t.aboutMe),s.a.createElement("div",null,s.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map((function(e){return s.a.createElement(O,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))),a&&s.a.createElement("button",{onClick:n,className:"btn btn-sm btn-secondary"},"Edit"))},O=function(e){var t=e.contactTitle,a=e.contactValue;return s.a.createElement("div",{className:"pl-3"},s.a.createElement("b",null,t),": ",a)},P=function(e){var t=e.profile,a=e.status,n=e.updateStatus,l=e.authUserId,r=e.savePhoto,c=e.saveProfile,o=Object(u.useState)(!1),i=Object(f.a)(o,2),m=i[0],p=i[1];if(!t)return s.a.createElement(E.a,null);var d=t.userId===+l;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("img",{src:t.photos.large||b.a,alt:"",className:"pl-2 pb-2",width:"200"})),d&&s.a.createElement("div",{className:"custom-file row"},s.a.createElement("input",{onChange:function(e){e.target.files.length&&r(e.target.files[0])},type:"file",className:"custom-file-input",id:"customFile"}),s.a.createElement("label",{className:"custom-file-label col-6",htmlFor:"customFile"},"Choose file")),s.a.createElement("div",{className:"pl-3"},s.a.createElement("b",null,"Status"),":",s.a.createElement(h,{userId:t.userId,status:a,isOwner:d,updateStatus:n})),m?s.a.createElement(N,{onSubmit:function(e){c(e).then((function(){p(!1)}))},initialValues:t,profile:t}):s.a.createElement(j,{profile:t,isOwner:d,goToEditMode:function(){p(!0)}}))},S=function(e){return s.a.createElement("div",{key:e.id},s.a.createElement("img",{src:b.a,className:"user-icon",alt:"..."}),s.a.createElement("span",{className:"pl-1"},e.post))},C=function(e){var t=e.profilePage.posts.map((function(e){return s.a.createElement(S,{post:e.post,likes:e.likesCount,key:e.id})})),a=s.a.createRef();return s.a.createElement("div",null,s.a.createElement("h4",{className:"text-primary mb-3"},"My posts"),s.a.createElement("form",{className:"form-group"},s.a.createElement("input",{onChange:function(){var t=a.current.value;e.updatePostText(t)},ref:a,value:e.profilePage.postText,placeholder:"New post",className:"form-control my-2"}),s.a.createElement("button",{onClick:function(){a.current.value.trim()&&e.addPost()},className:"btn btn-sm btn-primary ml-3 mb-3"},"Send")),t)},A=a(88),F=Object(m.b)((function(e){return{profilePage:e.profileReducer}}),(function(e){return{addPost:function(){e(Object(A.a)())},updatePostText:function(t){e(Object(A.g)(t))}}}))(C),I=function(e){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement(P,{profile:e.profile,authUserId:e.authUserId,status:e.status,savePhoto:e.savePhoto,saveProfile:e.saveProfile,updateStatus:e.updateStatus})),s.a.createElement("div",{className:"col-4"},s.a.createElement(F,null)))},w=a(284),x=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"renderProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.renderProfile()}},{key:"componentDidUpdate",value:function(e,t){e.match.params.userId!==this.props.match.params.userId&&this.renderProfile()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(I,this.props))}}]),t}(s.a.Component);t.default=Object(p.d)(Object(m.b)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,authUserId:e.authReducer.id,isAuth:e.authReducer.isAuth}}),{getProfile:A.c,getStatus:A.d,updateStatus:A.h,savePhoto:A.e,saveProfile:A.f}),i.g,w.a)(x)}}]);
//# sourceMappingURL=4.69100cf3.chunk.js.map