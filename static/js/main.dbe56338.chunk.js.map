{"version":3,"sources":["api/api.js","components/common/Preloader/Preloader.jsx","assets/images/react-logo.png","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Users/User/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Navbar/Navbar.jsx","components/Login/Login.jsx","hoc/withSuspense.js","App.jsx","serviceWorker.js","index.js","components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","assets/images/icon.png","redux/profile-reducer.js","redux/dialogs-reducer.js"],"names":["axiosInst","axios","baseURL","withCredentials","headers","usersAPI","fetchUsers","currentPage","amountOnPage","get","then","res","data","follow","id","post","unfollow","delete","getProfile","userId","console","warn","profileAPI","err","log","getStatus","updateStatus","status","put","savePhoto","photo","formData","FormData","append","saveProfile","profileData","authAPI","auth","login","loginData","email","password","rememberMe","captcha","logout","catch","error","securityAPI","getCaptchaUrl","Preloader","className","role","module","exports","initialState","users","totalUsersCount","pageSize","isFetching","disabledId","setCurrentPage","type","toggleIsFetching","toggleFollowProgress","followAC","unfollowAC","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","async","resultCode","usersReducer","state","action","map","u","followed","totalCount","filter","isAuth","captchaUrl","setUserData","payload","getCaptchaUrlSuccess","getAuthData","response","url","authReducer","initialized","appReducer","reducers","combineReducers","profileReducer","dialogsReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","props","src","icon","alt","width","onClick","to","HeaderContainer","this","React","Component","connect","User","path","user","photos","small","name","disabled","some","Paginator","totalItemsCount","onChangePage","portionSize","pagesAmount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","key","p","e","Users","getUsers","createSelector","getCurrentPage","getPageSize","getTotalUsersCount","getIsFetching","getDisabledId","UsersContainer","pageNum","bind","items","Navbar","LoginReduxForm","reduxForm","handleSubmit","onSubmit","Field","placeholder","component","Input","validate","required","htmlFor","errorMessage","messages","length","stopSubmit","_error","withSuspense","Suspense","fallback","ProfileContainer","lazy","DialogsContainer","App","catchAllUnhandledErrors","promiseRejectionEvent","initializeApp","addEventListener","removeEventListener","exact","render","AppContainer","withRouter","promiseUserData","Promise","all","MainApp","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","Textarea","input","meta","touched","errorControl","style","formControl","value","profile","posts","likesCount","postText","setStatus","addPostActionCreator","updatePostActionCreator","newPostText","getState","reject","postId","newPost","Date","now","trim","message","messageText","addMessageActionCreator","updateMessageActionCreator","newMessage"],"mappings":"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","file":"static/js/main.dbe56338.chunk.js","sourcesContent":["import * as axios from 'axios'\r\n\r\nconst axiosInst = axios.create({\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"3794fb54-9122-4382-888d-4590375cb765\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    fetchUsers(currentPage, amountOnPage) {\r\n        return axiosInst.get(`users?page=${currentPage}&count=${amountOnPage}`)\r\n            .then(res => res.data)\r\n    },\r\n    follow (id) {\r\n        return axiosInst.post(`follow/${id}`)     \r\n    },\r\n    unfollow (id) {\r\n        return axiosInst.delete(`follow/${id}`)     \r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Use profileAPI.getProfile method')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return axiosInst.get(`profile/${userId}`)\r\n        .then((res) => res.data, (err) => console.log('Fetching Error:', err))\r\n    },\r\n    getStatus(userId) {\r\n        return axiosInst.get(`profile/status/${userId}`)\r\n        .then((res) => res.data, (err) => console.log('Fetching Error:', err))\r\n    },\r\n    updateStatus(status) {\r\n        return axiosInst.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photo) {\r\n        const formData = new FormData()\r\n        formData.append('image', photo)\r\n\r\n        return axiosInst.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profileData) {\r\n        return axiosInst.put(`profile`, profileData)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    auth() {\r\n        return axiosInst.get('auth/me')\r\n    },\r\n    login(loginData) {\r\n        let {email, password, rememberMe, captcha} = loginData\r\n        return axiosInst.post('auth/login', {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return axiosInst.delete('auth/login')\r\n        .then(res => {\r\n            return res\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        })\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return axiosInst.get('security/get-captcha-url')\r\n    }\r\n}","import React from 'react'\r\n\r\nconst Preloader = () => (\r\n    <div className=\"d-flex justify-content-center pt-5\">\r\n        <div className=\"spinner-border\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default Preloader","module.exports = __webpack_public_path__ + \"static/media/react-logo.f69a1c09.png\";","import { usersAPI } from '../api/api'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_FOLLOW_PROGRESS = 'TOGGLE_FOLLOW_PROGRESS'\r\n\r\nconst initialState = {\r\n    users: [],\r\n    totalUsersCount: 0,\r\n    pageSize: 10,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    disabledId: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u) => u.id === action.userId ? {...u, followed: true} : u)\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u) => u.id === action.userId ? {...u, followed: false} : u)\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, \r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state, \r\n                totalUsersCount: action.totalCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, \r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_FOLLOW_PROGRESS:\r\n            return {\r\n                ...state,\r\n                disabledId: action.isFetching\r\n                    ? [...state.disabledId, action.userId]\r\n                    : state.disabledId.filter((id) => id !== action.userId)\r\n            }\r\n        default: \r\n            return state\r\n    } \r\n}\r\n\r\n\r\nexport const setUsers = (users) => ({ type: 'SET_USERS', users})\r\nexport const setCurrentPage = (currentPage) => ({ type: 'SET_CURRENT_PAGE', currentPage})\r\nexport const setTotalUsersCount = (totalCount) => ({ type: 'SET_TOTAL_USERS_COUNT', totalCount})\r\nexport const toggleIsFetching = (isFetching) => ({ type: 'TOGGLE_IS_FETCHING', isFetching})\r\nexport const toggleFollowProgress = (isFetching, userId) => ({ type: 'TOGGLE_FOLLOW_PROGRESS', isFetching, userId})\r\nexport const followAC = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowAC = (userId) => ({ type: UNFOLLOW, userId })\r\n\r\nexport const fetchUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(currentPage))\r\n        const data = await usersAPI.fetchUsers(currentPage, pageSize)\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n        dispatch(toggleIsFetching(false))   \r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowProgress(true, userId))\r\n    const res = await apiMethod(userId)\r\n    \r\n    if (res.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowProgress(false, userId))\r\n} \r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followAC)    \r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowAC)\r\n}\r\n\r\nexport default usersReducer","import { authAPI, securityAPI } from '../api/api'\r\nimport { stopSubmit } from 'redux-form'\r\n\r\nconst SET_USER_DATA = 'authReducer/SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'authReducer/GET_CAPTCHA_URL_SUCCESS'\r\n\r\nconst initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_USER_DATA:{\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }}\r\n        case GET_CAPTCHA_URL_SUCCESS:{\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }}\r\n        default: \r\n            return state\r\n    } \r\n}\r\n\r\nexport const setUserData = (id, login, email, isAuth) => (\r\n    { \r\n        type: SET_USER_DATA, \r\n        payload: { id, login, email, isAuth }\r\n    })\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => (\r\n    { \r\n        type: GET_CAPTCHA_URL_SUCCESS, \r\n        payload: { captchaUrl }\r\n    })\r\n\r\nexport const getAuthData = () => async (dispatch) => {\r\n    const res = await authAPI.auth()\r\n    if (res.data.resultCode === 0) {\r\n        let { id, login, email } = res.data.data\r\n        dispatch(setUserData(id, login, email, true))\r\n    }\r\n}\r\n\r\nexport const login = (loginData) => async (dispatch) => {\r\n    const res = await authAPI.login(loginData)\r\n    if (res.data.resultCode === 0) {\r\n        dispatch(getAuthData())\r\n    } else {\r\n        if (res.data.resultCode === 10){\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        const errorMessage = res.data.messages.length > 0 ? res.data.messages[0] : 'Authorization error'\r\n        dispatch(stopSubmit('login', {_error: errorMessage}))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    console.log(captchaUrl)\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const res = await authAPI.logout()\r\n    if (res.data.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false))\r\n    } else { console.log('ERROR!!')}\r\n}\r\n\r\nexport default authReducer","import { getAuthData } from './auth-reducer'\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED'\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state, \r\n                initialized: true\r\n            }\r\n        default: \r\n            return state\r\n    } \r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: 'SET_INITIALIZED' })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    const promiseUserData = dispatch(getAuthData())\r\n    Promise.all([promiseUserData])\r\n        .then(() => dispatch(initializedSuccess()))\r\n}\r\n\r\n\r\nexport default appReducer","import { applyMiddleware, createStore, compose, combineReducers } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer } from 'redux-form'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport profileReducer from './profile-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\n\r\nconst reducers = combineReducers({\r\n    profileReducer,\r\n    dialogsReducer,\r\n    usersReducer,\r\n    authReducer,\r\n    appReducer,\r\n    form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nwindow.store = store\r\n\r\nexport default store","import React from 'react'\r\n//import s from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport icon from '../../assets/images/react-logo.png'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className=\"navbar navbar-dark bg-dark\">\r\n            <img src={icon} alt=\"\" width=\"50\" />\r\n\r\n            <h4 className=\"navbar-text ml-3\">React-Social-Network</h4>\r\n            <div className=\"ml-auto\">\r\n                {props.isAuth ? \r\n                <div>\r\n                    <span className=\"text-light\">{props.login}</span> \r\n                    <button onClick={props.logout} \r\n                            className=\"btn btn-sm btn-outline-secondary ml-md-3\" type=\"button\" >\r\n                        Logout\r\n                    </button>\r\n                </div>  \r\n                : <NavLink className=\"btn btn-sm btn-outline-secondary\" type=\"button\" to='/login'>\r\n                        Login\r\n                    </NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport Header from './Header'\r\nimport { logout } from '../../redux/auth-reducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect((state) => {\r\n        return {\r\n            isAuth: state.authReducer.isAuth,\r\n            login: state.authReducer.login\r\n        }\r\n    }, { logout }))(HeaderContainer)\r\n","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport icon from '../../../assets/images/icon.png'\r\n\r\nconst User = (props) => {\r\n    const onFollow = () => {\r\n        props.follow(props.user.id)\r\n    }\r\n    const onUnfollow = () => {\r\n        props.unfollow(props.user.id)\r\n    }\r\n\r\n    let path = '/profile/' + props.user.id\r\n    return (\r\n        <div className=\"list-group-item list-group-item-light list-group-item-action\">\r\n            <NavLink to={path}>\r\n                <img src={props.user.photos.small ? props.user.photos.small : icon}\r\n                     alt='...' className=\"user-icon\"/>\r\n                <span className=\"ml-2 text-dark\">{props.user.name}</span>\r\n            </NavLink>\r\n            <div  className=\"float-right pt-2\">\r\n                {props.user.followed \r\n                    ? <button onClick={onUnfollow} className=\"btn btn-sm btn-outline-secondary\"\r\n                            disabled={props.disabledId.some((id) => id === props.user.id)}>Unfollow</button> \r\n                    : <button onClick={onFollow} className=\"btn btn-sm btn-outline-secondary\"\r\n                            disabled={props.disabledId.some((id) => id === props.user.id)}>Follow</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default User","import React, {useState} from 'react'\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onChangePage, portionSize = 10, }) => {\r\n    let pagesAmount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesAmount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesAmount/portionSize)\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <ul className=\"pagination pagination-sm\">\r\n            <li className={ portionNumber <= 1 ? \"page-item disabled\" : \"page-item\"}>\r\n                <button onClick={ () => { setPortionNumber(portionNumber - 1) } }\r\n                        className=\"page-link\" key=\"p\">\r\n                    <span>PREV</span>\r\n                </button>\r\n            </li>\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return (\r\n                        <li className={currentPage === p ? \"page-item active\" : \"page-item\"} key={p}>\r\n                            <button onClick={ (e) => {onChangePage(p)} } className=\"page-link\">\r\n                                {p}\r\n                            </button>\r\n                        </li>)\r\n            })}\r\n            <li className={ portionNumber >= portionCount ? \"page-item disabled\" : \"page-item\" }>\r\n                <button onClick={ () => { setPortionNumber(portionNumber + 1) } }\r\n                        className=\"page-link\" key=\"n\">\r\n                        <span>NEXT</span>\r\n                </button>\r\n            </li>\r\n        </ul>\r\n    )\r\n}\r\n\r\n\r\nexport default Paginator","import React from 'react'\r\nimport User from './User/User'\r\nimport Paginator from '../common/Paginator/Paginator'\r\n\r\nconst Users = ({currentPage, pageSize, totalUsersCount, onChangePage, ...props}) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator  currentPage={currentPage}\r\n                        pageSize={pageSize}\r\n                        totalItemsCount={totalUsersCount}\r\n                        onChangePage={onChangePage}/>\r\n            <div className=\"row\">\r\n            <div className=\"list-group col-6\">\r\n                { props.users\r\n                        .map( user => (<User user={user} \r\n                                             follow={props.follow} \r\n                                             unfollow={props.unfollow} \r\n                                             disabledId={props.disabledId} \r\n                                             toggleFollowProgress={props.toggleFollowProgress}\r\n                                             key={user.id} />)) }\r\n            </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Users","import { createSelector } from 'reselect'\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersReducer.users\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users \r\n})\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersReducer.currentPage\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersReducer.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersReducer.totalUsersCount\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersReducer.isFetching\r\n}\r\nexport const getDisabledId = (state) => {\r\n    return state.usersReducer.disabledId\r\n}","import React from 'react'\r\nimport Users from './Users'\r\nimport { fetchUsers, \r\n        follow, \r\n        unfollow, \r\n        toggleFollowProgress } from '../../redux/users-reducer'\r\nimport { getUsers, \r\n        getCurrentPage, \r\n        getPageSize, \r\n        getTotalUsersCount, \r\n        getIsFetching, \r\n        getDisabledId } from '../../redux/users-selectors'\r\nimport { connect } from 'react-redux'\r\n//import Preloader from '../common/Preloader/Preloader'\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.fetchUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onChangePage = (pageNum) => {\r\n        const {pageSize} = this.props\r\n        this.props.fetchUsers(pageNum, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {/* this.props.isFetching ? <Preloader /> : null */}\r\n                <Users  {...this.props}\r\n                        onChangePage={this.onChangePage}\r\n                        follow={this.props.follow}\r\n                        unfollow={this.props.unfollow}\r\n                        toggleFollowProgress={this.props.toggleFollowProgress} />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        currentPage: getCurrentPage(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        isFetching: getIsFetching(state),\r\n        disabledId: getDisabledId(state)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, \r\n    { follow, unfollow, toggleFollowProgress, fetchUsers })(UsersContainer)","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav  className=\"navbar navbar-light bg-light\" >\r\n            <ul className=\"navbar-nav\">\r\n                <li className=\"nav-item\">\r\n                    <NavLink to='/profile' className=\"nav-link\">My profile</NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <NavLink to='/dialogs' className=\"nav-link\">Messages</NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <NavLink to='/users' className=\"nav-link\">Users</NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <NavLink to='/music' className=\"nav-link\">Music</NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <NavLink to='/settings' className=\"nav-link\">Settings</NavLink>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\nimport { reduxForm } from 'redux-form'\r\nimport {connect} from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { login } from '../../redux/auth-reducer'\r\nimport { Field } from 'redux-form'\r\nimport { Input } from '../common/FormsControls/FormsControls'\r\nimport { required } from '../../utils/validators/validators'\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} >\r\n            <div className=\"form-group row\">\r\n                <div  className=\"col-sm-4\">\r\n                    <Field type=\"input\" placeholder={\"E-mail\"}\r\n                    component={Input} name={\"email\"}\r\n                    validate={[required]} className=\"form-control\"/>\r\n                </div>\r\n                <div>\r\n                    <Field type={\"password\"} placeholder={\"Password\"} \r\n                    component={Input} name={\"password\"} \r\n                    validate={[required]} className=\"form-control\" />\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <button className=\"btn btn-sm btn-secondary\">Login</button>\r\n            </div>\r\n            <div className=\"form-check mt-2\">\r\n                <Field type={\"checkbox\"} \r\n                       component={\"input\"} \r\n                       name={\"rememberMe\"}\r\n                       className=\"form-check-input\" id=\"gridCheck\" />\r\n                <label className=\"form-check-label\" htmlFor=\"gridCheck\">\r\n                    Remember me\r\n                </label>\r\n            </div>\r\n            {captchaUrl && <img src={captchaUrl} alt=\"\"/>}\r\n            {captchaUrl && \r\n                <div className=\"row\">\r\n                    <div className=\"col-2\">\r\n                        <Field type={\"input\"} \r\n                                component={Input} name={\"captcha\"} \r\n                                validate={[required]} className=\"form-control\" />\r\n                    </div>\r\n                    <span className=\"col-6\" >Input symbols</span>\r\n                </div>}\r\n            {error && <div>{error}</div>}\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onFormSubmit = (formData) => {\r\n        props.login(formData)\r\n    }\r\n    \r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onFormSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    connect((state) => {\r\n        return {\r\n            isAuth: state.authReducer.isAuth,\r\n            captchaUrl: state.authReducer.captchaUrl\r\n        }\r\n    }, { login }))(Login)","import React from 'react'\r\nimport Preloader from '../components/common/Preloader/Preloader'\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n                    <Component {...props}/>\r\n                </React.Suspense>\r\n    }\r\n}","import React from 'react'\nimport { Route, withRouter, HashRouter, Redirect, Switch } from 'react-router-dom'\nimport { connect, Provider } from 'react-redux'\nimport { compose } from 'redux'\nimport store from './redux/redux-store'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport UsersContainer from './components/Users/UsersContainer'\nimport Navbar from './components/Navbar/Navbar'\nimport Login from './components/Login/Login'\nimport { initializeApp } from './redux/app-reducer'\nimport {withSuspense} from './hoc/withSuspense'\n//import Preloader from './components/common/Preloader/Preloader'\n\nconst ProfileContainer = React.lazy(() => import ('./components/Profile/ProfileContainer'))\nconst DialogsContainer = React.lazy(() => import ('./components/Dialogs/DialogsContainer'))\n\nclass App extends React.Component {\n  catchAllUnhandledErrors = (promiseRejectionEvent) => {\n    console.log('Some error occured', promiseRejectionEvent)\n  }\n  componentDidMount() {\n    this.props.initializeApp()\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\n  }\n  componentWillUnmount() {\n    window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\n  }\n  render() {\n    if (!this.props.initialized) {\n      return null //<Preloader />\n    }\n\n    return (\n      <div className=\"container-fluid pt-3\">\n        <HeaderContainer />\n        <div className=\"container-fluid bg-light row\">\n          <div className=\"col-2 p-3\"><Navbar /></div>\n          <div className=\"col-10 p-3\">\n            <Switch>\n              <Route exact path='/' \n                render = { () => <Redirect to={'/profile'} /> } />\n              <Route path='/profile/:userId?' \n                render = { withSuspense(ProfileContainer) } />\n              <Route path='/dialogs' \n                render = { withSuspense(DialogsContainer) } />\n              <Route path='/users' \n                render = { () => <UsersContainer />} />\n              <Route path='/login' \n                render = { () => <Login />} />\n              <Route path='*' \n                render = { () => <div>404 NOT FOUND</div>} />\n            </Switch>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.appReducer.initialized\n})\n\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {\n    initializeApp\n}))(App)\n\nconst MainApp = () => (\n  <HashRouter>\n      <Provider store={store}>\n          <AppContainer />\n      </Provider>\n  </HashRouter>\n)\n\nexport default MainApp","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport MainApp from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<MainApp />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1kho1\",\"error\":\"FormsControls_error__20Xhz\"};","import React from 'react'\r\nimport style from './FormsControls.module.css'\r\n\r\nexport const Textarea = ({input, meta: {error, touched}, ...props}) => {\r\n    const errorControl = error && touched\r\n    return (\r\n        <div className={style.formControl + ' ' + (errorControl && style.error)}>\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            <div>\r\n                { errorControl && <span>{error}</span> }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const errorControl = meta.error && meta.touched\r\n    return (\r\n        <div className={style.formControl + ' ' + (errorControl && style.error)}>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            <div>\r\n                { errorControl && <span>{meta.error}</span> }\r\n            </div>\r\n        </div>\r\n    )\r\n}","export const required = value => {\r\n    if (value) return undefined\r\n    else return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","module.exports = \"data:image/png;base64,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\"","import { profileAPI } from '../api/api'\r\nimport { stopSubmit } from 'redux-form'\r\n\r\nconst ADD_POST = 'ADD_POST'\r\nconst SET_PROFILE = 'SET_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst UPDATE_POST = 'UPDATE_POST'\r\n\r\nconst initialState = {\r\n    profile: null,\r\n    posts: [\r\n    {id: 0, post: 'No API for this App part', likesCount: 1},\r\n    {id: 1, post: 'First post', likesCount: 12},\r\n    {id: 2, post: 'Second post', likesCount: 13},\r\n    {id: 3, post: 'Third post', likesCount: 11}\r\n    ],\r\n    status: '',\r\n    postText: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        case DELETE_POST: \r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter((post) => post.id !== action.postId)\r\n            }\r\n        case ADD_POST: {\r\n            const newPost = {\r\n                id: Date.now(),\r\n                post: state.postText.trim(),\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                postText: ''\r\n            }\r\n        }\r\n        case UPDATE_POST: \r\n            return {\r\n                ...state,\r\n                postText: action.newPostText\r\n            }\r\n        default: \r\n            return state\r\n    } \r\n}\r\n\r\nexport const setProfile = (profile) => ({ type: 'SET_PROFILE', profile})\r\nexport const setStatus = (status) => ({ type: 'SET_STATUS', status})\r\nexport const savePhotoSuccess = (photos) => ({ type: 'SAVE_PHOTO_SUCCESS', photos})\r\nexport const addPostActionCreator = () => ({ type: 'ADD_POST' })\r\nexport const updatePostActionCreator = (newPostText) => ({ type: 'UPDATE_POST', newPostText })\r\nexport const deletePost = (postId) => ({ type: 'DELETE_POST', postId })\r\n\r\nexport const getProfile = (userId) => {\r\n    return (dispatch) => {\r\n        profileAPI.getProfile(userId)\r\n            .then((data) => {\r\n                dispatch(setProfile(data))\r\n            })\r\n    }\r\n}\r\nexport const getStatus = (userId) => {\r\n    return (dispatch) => {\r\n        profileAPI.getStatus(userId)\r\n            .then((data) => {\r\n                dispatch(setStatus(data))\r\n            })\r\n    }\r\n}\r\nexport const updateStatus = (status) =>  async (dispatch) => {\r\n    try {\r\n        const res = await profileAPI.updateStatus(status)\r\n        if (res.data.resultCode === 0) { \r\n            dispatch(setStatus(status))\r\n        }\r\n    } catch(error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const savePhoto = (photo) => {\r\n    return (dispatch) => {\r\n        profileAPI.savePhoto(photo)\r\n            .then((res) => {\r\n                if (res.data.resultCode === 0) { \r\n                    dispatch(savePhotoSuccess(res.data.data.photos))\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const saveProfile = (profileData) => {\r\n    return (dispatch, getState) => {\r\n        const userId = getState().authReducer.id\r\n        return profileAPI.saveProfile(profileData)\r\n            .then((res) => {\r\n                if (res.data.resultCode === 0) { \r\n                    dispatch(getProfile(userId))\r\n                } else {\r\n                    const errorMessage = res.data.messages.length > 0 ? res.data.messages[0] : 'Invalid profile info input'\r\n                    dispatch(stopSubmit('profile-info', {_error: errorMessage}))\r\n                    return Promise.reject(res.data.messages[0])\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport default profileReducer","const ADD_MESSAGE = 'ADD_MESSAGE'\r\nconst UPDATE_MESSAGE = 'UPDATE_MESSAGE'\r\n\r\nconst initialState = {\r\n    users: [\r\n        {id: '1', name: 'Slava'},\r\n        {id: '2', name: 'Roma'},\r\n        {id: '3', name: 'Andrey'},\r\n        {id: '4', name: 'Sasha'}\r\n    ],\r\n    messages: [\r\n        {id: '0', message: 'No API for this App part'},\r\n        {id: '1', message: 'Hello'},\r\n        {id: '2', message: 'Hi'}\r\n    ],\r\n    messageText: ''\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_MESSAGE: {\r\n            if (state.messageText.trim()) {\r\n                const newMessage = {\r\n                    id: Date.now(),\r\n                    message: state.messageText.trim()\r\n                }\r\n                return {\r\n                    ...state,\r\n                    messages: [...state.messages, newMessage],\r\n                    messageText: ''\r\n                }\r\n            } else \r\n                return state\r\n        }\r\n        case UPDATE_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messageText: action.messageText\r\n            }\r\n        default: \r\n            return state\r\n    } \r\n}\r\n\r\nexport const addMessageActionCreator = () => ({ type: 'ADD_MESSAGE' })\r\nexport const updateMessageActionCreator = (messageText) => ({ type: 'UPDATE_MESSAGE', messageText })\r\n\r\nexport default dialogsReducer"],"sourceRoot":""}